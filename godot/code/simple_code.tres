[gd_resource type="Resource" script_class="SourceCode" load_steps=2 format=3 uid="uid://drkgmka06jh56"]

[ext_resource type="Script" uid="uid://c20nuqfi2thcd" path="res://source_code_resource.gd" id="1_foe4q"]

[resource]
script = ExtResource("1_foe4q")
value = "THRUSTER_ZERO = $020D

.org $0600

main_loop:
	LDA #8                  ; Load thruster value 8
	STA THRUSTER_ZERO       ; Set thruster to 8
	JSR delay               ; Call delay subroutine
	
	LDA #0                  ; Load thruster value 0
	STA THRUSTER_ZERO       ; Set thruster to 0
	JSR delay               ; Call delay subroutine

	LDA #4                  ; Load thruster value 4
	STA THRUSTER_ZERO       ; Set thruster to 4
	JSR delay               ; Call delay subroutine

	LDA #0                  ; Load thruster value 8
	STA THRUSTER_ZERO       ; Set thruster to 8
	JSR delay               ; Call delay subroutine

	JMP main_loop           ; Repeat forever

; Delay subroutine - nested loops for shorter delay
delay:
	LDX #10                 ; Initialize outer loop counter (10 instead of 255)
outer_loop:
	LDY #$FF                ; Initialize inner loop counter
inner_loop:
	NOP                     ; Waste some cycles
	DEY                     ; Decrement inner counter
	BNE inner_loop          ; Loop until inner counter = 0
	DEX                     ; Decrement outer counter
	BNE outer_loop          ; Loop until outer counter = 0
	RTS                     ; Return from subroutine
"
metadata/_custom_type_script = "uid://c20nuqfi2thcd"
